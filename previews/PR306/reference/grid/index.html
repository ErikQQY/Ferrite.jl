<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Grid · JuAFEM.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">JuAFEM.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../manual/fe_intro/">Introduction to FEM</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/degrees_of_freedom/">Degrees of Freedom</a></li><li><a class="tocitem" href="../../manual/assembly/">Assembly</a></li><li><a class="tocitem" href="../../manual/boundary_conditions/">Boundary Conditions</a></li><li><a class="tocitem" href="../../manual/grid/">Grid</a></li><li><a class="tocitem" href="../../manual/export/">Export</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/heat_equation/">Heat Equation</a></li><li><a class="tocitem" href="../../examples/l2_projection/">L2-projection</a></li><li><a class="tocitem" href="../../examples/helmholtz/">Helmholtz equation</a></li><li><a class="tocitem" href="../../examples/incompressible_elasticity/">Incompressible Elasticity</a></li><li><a class="tocitem" href="../../examples/hyperelasticity/">Hyperelasticity</a></li><li><a class="tocitem" href="../../examples/threaded_assembly/">Threaded Assembly</a></li><li><a class="tocitem" href="../../examples/plasticity/">von Mises plasticity</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../quadrature/">Quadrature</a></li><li><a class="tocitem" href="../interpolations/">Interpolation</a></li><li><a class="tocitem" href="../fevalues/">FEValues</a></li><li><a class="tocitem" href="../dofhandler/">DofHandler</a></li><li><a class="tocitem" href="../assembly/">Assembly</a></li><li><a class="tocitem" href="../boundary_conditions/">Boundary Conditions</a></li><li class="is-active"><a class="tocitem" href>Grid</a><ul class="internal"><li><a class="tocitem" href="#Utility-Functions"><span>Utility Functions</span></a></li><li><a class="tocitem" href="#Grid-Sets-Utility"><span>Grid Sets Utility</span></a></li></ul></li><li><a class="tocitem" href="../export/">Export</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Grid</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Grid</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/KristofferC/JuAFEM.jl/blob/master/docs/src/reference/grid.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Grid"><a class="docs-heading-anchor" href="#Grid">Grid</a><a id="Grid-1"></a><a class="docs-heading-anchor-permalink" href="#Grid" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.Node" href="#JuAFEM.Node"><code>JuAFEM.Node</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Node{dim, T}</code></pre><p>A <code>Node</code> is a point in space.</p><p><strong>Fields</strong></p><ul><li><code>x::Vec{dim,T}</code>: stores the coordinates</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L4-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.Cell" href="#JuAFEM.Cell"><code>JuAFEM.Cell</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Cell{dim,N,M} &lt;: AbstractCell{dim,N,M}</code></pre><p>A <code>Cell</code> is a sub-domain defined by a collection of <code>Node</code>s as it&#39;s vertices. However, a <code>cell</code> is not defined by the nodes but rather by the node ids</p><p><strong>Fields</strong></p><ul><li><code>nodes::Ntuple{N,Int}</code>: N-tuple that stores the node ids</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L20-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.Grid" href="#JuAFEM.Grid"><code>JuAFEM.Grid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Grid{dim, C&lt;:AbstractCell, T&lt;:Real} &lt;: AbstractGrid}</code></pre><p>A <code>Grid</code> is a collection of <code>Cells</code> and <code>Node</code>s which covers the computational domain, together with Sets of cells, nodes and faces.</p><p><strong>Fields</strong></p><ul><li><code>cells::Vector{C}</code>: stores all cells of the grid</li><li><code>nodes::Vector{Node{dim,T}}</code>: stores the <code>dim</code> dimensional nodes of the grid</li><li><code>cellsets::Dict{String,Set{Int}}</code>: maps a <code>String</code> key to a <code>Set</code> of cell ids</li><li><code>nodesets::Dict{String,Set{Int}}</code>: maps a <code>String</code> key to a <code>Set</code> of node ids</li><li><code>facesets::Dict{String,Set{Tuple{Int,Int}}}</code>: maps a <code>String</code> to a <code>Set</code> of <code>Tuple{Int,Int} (global_cell_id, local_face_id)</code></li><li><code>boundary_matrix::SparseMatrixCSC{Bool,Int}</code>: optional, only needed by <code>onboundary</code> to check if a cell is on the boundary, see, e.g. Helmholtz example</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L71-L83">source</a></section></article><h2 id="Utility-Functions"><a class="docs-heading-anchor" href="#Utility-Functions">Utility Functions</a><a id="Utility-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getcells" href="#JuAFEM.getcells"><code>JuAFEM.getcells</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">getcells(grid::AbstractGrid) 
getcells(grid::AbstractGrid, v::Union{Int,Vector{Int}} 
getcells(grid::AbstractGrid, set::String)</code></pre><p>Returns either all <code>cells::Vector{C&lt;:AbstractCell}</code> of a <code>grid</code> or a subset based on an <code>Int</code>, <code>Vector{Int}</code> or <code>String</code>. Whereas the last option tries to call a <code>cellset</code> of the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L108-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getncells" href="#JuAFEM.getncells"><code>JuAFEM.getncells</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns and <code>Int</code> corresponding to how many cells are in the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getnodes" href="#JuAFEM.getnodes"><code>JuAFEM.getnodes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">getnodes(grid::AbstractGrid) 
getnodes(grid::AbstractGrid, v::Union{Int,Vector{Int}}
getnodes(grid::AbstractGrid, set::String)</code></pre><p>Returns either all <code>nodes::Vector{Node{dim,T}}</code> of a <code>grid</code> or a subset based on an <code>Int</code>, <code>Vector{Int}</code> or <code>String</code>. The last option tries to call a <code>nodeset</code> of the <code>grid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L124-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getnnodes" href="#JuAFEM.getnnodes"><code>JuAFEM.getnnodes</code></a> — <span class="docstring-category">Function</span></header><section><div><p>returns an <code>Int</code> corresponding to how many nodes are in the <code>grid</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L135">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>nnodes_per_cell</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getcellset" href="#JuAFEM.getcellset"><code>JuAFEM.getcellset</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Accesses the cellset which is mapped to the key <code>set::String</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getnodeset" href="#JuAFEM.getnodeset"><code>JuAFEM.getnodeset</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Accesses the nodeset which is mapped to the key <code>set::String</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getfaceset" href="#JuAFEM.getfaceset"><code>JuAFEM.getfaceset</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Accesses the faceset which is mapped to the key <code>set::String</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.compute_vertex_values" href="#JuAFEM.compute_vertex_values"><code>JuAFEM.compute_vertex_values</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function compute_vertex_values(grid::AbstractGrid, f::Function)
function compute_vertex_values(grid::AbstractGrid, v::Vector{Int}, f::Function)    
function compute_vertex_values(grid::AbstractGrid, set::String, f::Function)</code></pre><p>Given a <code>grid</code> and some function <code>f</code>, <code>compute_vertex_values</code> computes all nodal values,  i.e. values at the nodes,  of the function <code>f</code>.  The function implements two dispatches, where only a subset of the grid&#39;s node is used.</p><pre><code class="language-julia">    compute_vertex_values(grid, x -&gt; sin(x[1]) + cos([2]))
    compute_vertex_values(grid, [9, 6, 3], x -&gt; sin(x[1]) + cos([2])) #compute function values at nodes with id 9,6,3
    compute_vertex_values(grid, &quot;right&quot;, x -&gt; sin(x[1]) + cos([2])) #compute function values at nodes belonging to nodeset right</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L157-L172">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.transform!" href="#JuAFEM.transform!"><code>JuAFEM.transform!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">transform!(grid::Abstractgrid, f::Function)</code></pre><p>Transform all nodes of the <code>grid</code> based on some transformation function <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L190-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getcoordinates" href="#JuAFEM.getcoordinates"><code>JuAFEM.getcoordinates</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">getcoordinates(grid::AbstractGrid, cell)</code></pre><p>Return a vector with the coordinates of the vertices of cell number <code>cell</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L323-L326">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.getcoordinates!" href="#JuAFEM.getcoordinates!"><code>JuAFEM.getcoordinates!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">getcoordinates!(x::Vector{Vec{dim,T}}, grid::AbstractGrid, cell::Int)</code></pre><p>Fills the vector <code>x</code> with the coordinates of a cell, defined by its cell id.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L310-L313">source</a></section></article><h2 id="Grid-Sets-Utility"><a class="docs-heading-anchor" href="#Grid-Sets-Utility">Grid Sets Utility</a><a id="Grid-Sets-Utility-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-Sets-Utility" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.addcellset!" href="#JuAFEM.addcellset!"><code>JuAFEM.addcellset!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">addcellset!(grid::AbstractGrid, name::String, cellid::Union{Set{Int}, Vector{Int}})
addcellset!(grid::AbstractGrid, name::String, f::function; all::Bool=true)</code></pre><p>Adds a <code>cellset::Dict{String,Set{Int}}</code> to the <code>grid</code> with key <code>name</code>. Cellsets can be used to specify a boundary for <code>Dirichlet</code>, which is needed by the <code>ConstraintHandler</code></p><pre><code class="language-julia">addcellset!(grid, &quot;left&quot;, Set((1,3))) #add cells with id 1 and 3 to cellset left
addcellset!(grid, &quot;right&quot;, x -&gt; norm(x[1]) &lt; 2.0 ) #add cell to cellset right, if x[1] of each cell&#39;s node is smaller than 2.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L209-L220">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.addfaceset!" href="#JuAFEM.addfaceset!"><code>JuAFEM.addfaceset!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">addfaceset!(grid::AbstractGrid, name::String, faceid::Set{Tuple{Int,Int}})
addfaceset!(grid::AbstractGrid, name::String, f::Function; all::Bool=true)</code></pre><p>Adds a <code>faceset::Dict{String, Set{Tuple{Int,Int}}</code> to the <code>grid</code> with key <code>name</code>. A <code>faceset</code> maps a <code>String</code> key to a <code>Set</code> of tuples corresponding to <code>(global_cell_id, local_face_id)</code>. Facesets are used to initialize <code>Dirichlet</code> structs, that are needed to specify the boundary for the <code>ConstraintHandler</code>.</p><pre><code class="language-julia">addfaceset!(gird, &quot;right&quot;, Set(((2,2),(4,2))) #see grid manual example for reference
addfaceset!(grid, &quot;clamped&quot;, x -&gt; norm(x[1]) ≈ 0.0) #see incompressible elasticity example for reference</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L246-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuAFEM.addnodeset!" href="#JuAFEM.addnodeset!"><code>JuAFEM.addnodeset!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">addnodeset!(grid::AbstractGrid, name::String, nodeid::Union{Vector{Int},Set{Int}})
addnodeset!(grid::AbstractGrid, name::String, f::Function)</code></pre><p>Adds a <code>nodeset::Dict{String, Set{Int}}</code> to the <code>grid</code> with key <code>name</code>. Has the same interface as <code>addcellset</code>.  However, instead of mapping a cell id to the <code>String</code> key, a set of node ids is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/224e3bf0216e1ce7261aff78c5f7d1514bdceba3/src/Grid/grid.jl#L285-L291">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../boundary_conditions/">« Boundary Conditions</a><a class="docs-footer-nextpage" href="../export/">Export »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 25 November 2020 10:08">Wednesday 25 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
